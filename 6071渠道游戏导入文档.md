# 站点游戏资源导入文档
## 分类设置
### 导入站点分类
游戏分类接口数据格式适配
游戏分类数据接口返回数据类型为json，数据格式如下
```
{
    "data":[
        {
            "catalogname":"\u4F11\u95F2\u76CA\u667A",  //分类名
            "catalogid":158, // 分类ID
        }
        ... // 更多分类
    ]
}
```

### 分类绑定
由于站点游戏分类与平台游戏分类存在区别，可以预先设置站点的分类绑定到平台的某分类，在导入游戏时，游戏会自动归类到所属站点分类绑定的分类中。


## 导入游戏
### 接口地址适配
接口地址：获取游戏信息的接口地址
开始时间与结束时间：查询游戏的时间条件，不设置时间则采集全部数据
开始页码与结束页码：查询游戏的页码条件，不设置时间则采集全部数据
每页数量：查询每页数量

例如以下参数：
接口地址：http://cr173.com/exe/setup/?a=4
开始时间与结束时间：2017-01-01 ~ 2017-01-22
开始页码与结束页码：1 ~ 3
每页数量：10

则会获取以下接口地址中的游戏：
http://cr173.com/exe/setup/?a=4&start_time=2017-01-01&end_time=2017-01-22&ResPageSize=10&sPage=1
http://cr173.com/exe/setup/?a=4&start_time=2017-01-01&end_time=2017-01-22&ResPageSize=10&sPage=2
http://cr173.com/exe/setup/?a=4&start_time=2017-01-01&end_time=2017-01-22&ResPageSize=10&sPage=3

即：接口中需要带上start_time、end_time、ResPageSize、sPage四个参数作为查询条件

### 接口数据格式适配
游戏数据接口返回数据类型为json，数据格式如下
```
{
    "info":{
        "page_total":101518,  // 总页数
        "sPage":3  // 当前页数
    },
    "data":[
        {
            "soft_id":577147,  //游戏ID
            "name":"\u795E\u6298\u7EB8 2OPPO\u7248",  // 游戏名称
            "typename":"\u4F11\u95F2\u76CA\u667A",  // 所属分类名称
            "ico":"http:\/\/pic.cr173.com\/up\/2017-8\/2017829173104746.png",  // 游戏图标
            "game_img":"http:\/\/pic.cr173.com\/up\/2017-8\/2017829162445108200.jpg",  // 游戏截图，多张图片用“,”隔开
            "version":"v1.10", // 游戏版本
            "size":40960, // 游戏大小，单位：KB
            "file_url":"http:\/\/cycy.mqego.com\/shenzhezhi2.apk", // 下载地址
            "language":"\u4E2D\u6587", // 语言
            "catalogid":158, // 分类ID
            "upd_time":1503997960, // 更新时间
            "add_time":1503997960, // 添加时间
            "desp":"", // 简介
            "body":"", // 详情
            "keyword":"" // 关键词
        },
        ...// 更多数据，总条数与接口参数ResPageSize一致
    ]
}
```


## 导入游戏设置
初始化下载次数：为导入的游戏设置一个一开始的下载次数
每次下载增量：每次下载，下载次数增加的量

*备注：该设置都是为了方便控制前台展示数量，实际值以统计为准。*

## 初始化下载次数
对于导入的游戏，下载次数为零的，随机设置一个下载次数，区间为【初始化下载次数】所设置的值。